{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nexport class OrderItem {\n  constructor(id, orderStatus, totalAmount, tax, taxvalue, packingCost, time, deliveryFee, instruction, products) {\n    this.products = [];\n    this.id = id;\n    this.orderStatus = orderStatus;\n    this.totalAmount = totalAmount;\n    this.tax = tax;\n    this.taxvalue = taxvalue;\n    this.packingCost = packingCost;\n    this.time = time;\n    this.deliveryFee = deliveryFee;\n    this.instruction = instruction;\n    this.products = products;\n  }\n\n}\nexport let OrderService = /*#__PURE__*/(() => {\n  class OrderService {\n    constructor(cart, router, loadingController) {\n      this.cart = cart;\n      this.router = router;\n      this.loadingController = loadingController;\n      this.orderStatus = 'Pending';\n      const temp = localStorage.getItem('orderItems');\n\n      if (temp) {\n        this.orderList = JSON.parse(temp);\n      } else {\n        this.orderList = [];\n      }\n    }\n\n    addOrder(list) {\n      this.loader();\n      const date = new Date();\n      const id = 'ORDER' + date.getFullYear() + date.getMonth() + date.getDate() + date.getHours() + date.getMinutes() + date.getSeconds();\n      this.orderList.push(new OrderItem(id, this.orderStatus, this.cart.totalAmount, this.cart.tax, this.cart.taxvalue, this.cart.packingCost, date.toDateString(), this.cart.deliveryFee, this.cart.instruction, list));\n      localStorage.setItem('orderItems', JSON.stringify(this.orderList));\n    }\n\n    loader() {\n      this.loadingController.create({\n        message: 'Loading Please Wait......',\n        duration: 4000\n      }).then(response => {\n        response.present();\n        response.onDidDismiss().then(value => {\n          let temp = localStorage.getItem('orderItems');\n\n          if (temp) {\n            temp = JSON.parse(temp);\n            this.cart.emptyCart();\n            this.cart.alert('Order Successful');\n            this.router.navigate(['/landing']);\n          } else {\n            this.cart.alert('Try Again Later');\n          }\n        });\n      });\n    }\n\n  }\n\n  OrderService.ɵfac = function OrderService_Factory(t) {\n    return new (t || OrderService)(i0.ɵɵinject(i1.CartService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.LoadingController));\n  };\n\n  OrderService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: OrderService,\n    factory: OrderService.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderService;\n})();","map":null,"metadata":{},"sourceType":"module"}